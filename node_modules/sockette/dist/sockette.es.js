function n(){}export default function(o,e){var t,c,i,r={},s=this,u=(e=e||{}).timeout||1e3,f=e.maxAttempts||Infinity;return r.onmessage=e.onmessage||n,r.onclose=function(o){1e3!==o.code&&1005!==o.code&&s.reconnect(o),(e.onclose||n)(o)},r.onerror=function(o){o&&"ECONNREFUSED"===o.code?s.reconnect(o):(e.onerror||n)(o)},r.onopen=function(o){i=0,(e.onopen||n)(o)},s.open=function(){for(t in c=new WebSocket(o,e.protocols),r)c[t]=r[t]},s.reconnect=function(o){i++<f?setTimeout(function(t){(e.onreconnect||n)(o),s.open()},u):(e.onmaximum||n)(o)},s.json=function(n){c.send(JSON.stringify(n))},s.send=function(n){c.send(n)},s.close=function(n,o){c.close(n,o)},s.open(),s};
//# sourceMappingURL=sockette.es.js.map
