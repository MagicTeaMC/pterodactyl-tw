var r=require("react"),n=require("react/jsx-runtime"),t=require("react/jsx-dev-runtime"),e=require("use-sync-external-store/shim/index.js"),u=require("@preact/signals-core");function o(r){return r&&"object"==typeof r&&"default"in r?r.default:r}var i=/*#__PURE__*/o(r),f=/*#__PURE__*/o(n),c=/*#__PURE__*/o(t),a=[],s=Symbol.for("react.element"),p=Symbol.for("react.memo"),l=new Map,v="function"==typeof Proxy,y={apply:function(n,t,u){var o=r.useMemo(b,a);e.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var i=o.updater.S();try{return n.apply(t,u)}catch(r){throw r}finally{i()}}};function x(r){return l.get(r)||function(r){if(v){var n=new Proxy(r,y);l.set(r,n);l.set(n,n);return n}var t=function(){return y.apply(r,void 0,arguments)};l.set(r,t);l.set(t,t);return t}(r)}function b(){var r,n,t=0,e=u.effect(function(){r=this});r.c=function(){t=t+1|0;if(n)n()};return{updater:r,subscribe:function(r){n=r;return function(){t=t+1|0;n=void 0;e()}},getSnapshot:function(){return t}}}function d(n){if("function"!=typeof n)return n;else return function(t,e){var o=[].slice.call(arguments,2);if("function"==typeof t&&!(t instanceof r.Component))return n.call.apply(n,[n,x(t),e].concat(o));if(t&&"object"==typeof t&&t.$$typeof===p){t.type=x(t.type);return n.call.apply(n,[n,t,e].concat(o))}if("string"==typeof t&&e)for(var i in e){var f=e[i];if("children"!==i&&f instanceof u.Signal)e[i]=f.value}return n.call.apply(n,[n,t,e].concat(o))}}var g=f,m=c;i.createElement=d(i.createElement);m.jsx&&(m.jsx=d(m.jsx));g.jsx&&(g.jsx=d(g.jsx));m.jsxs&&(m.jsxs=d(m.jsxs));g.jsxs&&(g.jsxs=d(g.jsxs));m.jsxDEV&&(m.jsxDEV=d(m.jsxDEV));g.jsxDEV&&(g.jsxDEV=d(g.jsxDEV));Object.defineProperties(u.Signal.prototype,{$$typeof:{configurable:!0,value:s},type:{configurable:!0,value:x(function(r){return r.data.value})},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});exports.Signal=u.Signal;exports.batch=u.batch;exports.computed=u.computed;exports.effect=u.effect;exports.signal=u.signal;exports.useComputed=function(n){var t=r.useRef(n);t.current=n;return r.useMemo(function(){return u.computed(function(){return t.current()})},a)};exports.useSignal=function(n){return r.useMemo(function(){return u.signal(n)},a)};exports.useSignalEffect=function(n){var t=r.useRef(n);t.current=n;r.useEffect(function(){return u.effect(function(){return t.current()})},a)};//# sourceMappingURL=signals.js.map
