!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react/jsx-runtime"),require("react/jsx-dev-runtime"),require("use-sync-external-store/shim/index.js"),require("@preact/signals-core")):"function"==typeof define&&define.amd?define(["exports","react","react/jsx-runtime","react/jsx-dev-runtime","use-sync-external-store/shim/index.js","@preact/signals-core"],e):e((n||self).reactSignals={},n.react,n.jsxRuntime,n.jsxRuntimeDev,n.index_js,n.signalsCore)}(this,function(n,e,r,t,u,i){function o(n){return n&&"object"==typeof n&&"default"in n?n.default:n}var f=/*#__PURE__*/o(e),c=/*#__PURE__*/o(r),a=/*#__PURE__*/o(t),s=[],l=Symbol.for("react.element"),p=Symbol.for("react.memo"),y=new Map,v="function"==typeof Proxy,d={apply:function(n,r,t){var i=e.useMemo(x,s);u.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o=i.updater.S();try{return n.apply(r,t)}catch(n){throw n}finally{o()}}};function b(n){return y.get(n)||function(n){if(v){var e=new Proxy(n,d);y.set(n,e);y.set(e,e);return e}var r=function(){return d.apply(n,void 0,arguments)};y.set(n,r);y.set(r,r);return r}(n)}function x(){var n,e,r=0,t=i.effect(function(){n=this});n.c=function(){r=r+1|0;if(e)e()};return{updater:n,subscribe:function(n){e=n;return function(){r=r+1|0;e=void 0;t()}},getSnapshot:function(){return r}}}function m(n){if("function"!=typeof n)return n;else return function(r,t){var u=[].slice.call(arguments,2);if("function"==typeof r&&!(r instanceof e.Component))return n.call.apply(n,[n,b(r),t].concat(u));if(r&&"object"==typeof r&&r.$$typeof===p){r.type=b(r.type);return n.call.apply(n,[n,r,t].concat(u))}if("string"==typeof r&&t)for(var o in t){var f=t[o];if("children"!==o&&f instanceof i.Signal)t[o]=f.value}return n.call.apply(n,[n,r,t].concat(u))}}var g=c,h=a;f.createElement=m(f.createElement);h.jsx&&(h.jsx=m(h.jsx));g.jsx&&(g.jsx=m(g.jsx));h.jsxs&&(h.jsxs=m(h.jsxs));g.jsxs&&(g.jsxs=m(g.jsxs));h.jsxDEV&&(h.jsxDEV=m(h.jsxDEV));g.jsxDEV&&(g.jsxDEV=m(g.jsxDEV));Object.defineProperties(i.Signal.prototype,{$$typeof:{configurable:!0,value:l},type:{configurable:!0,value:b(function(n){return n.data.value})},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});n.Signal=i.Signal;n.batch=i.batch;n.computed=i.computed;n.effect=i.effect;n.signal=i.signal;n.useComputed=function(n){var r=e.useRef(n);r.current=n;return e.useMemo(function(){return i.computed(function(){return r.current()})},s)};n.useSignal=function(n){return e.useMemo(function(){return i.signal(n)},s)};n.useSignalEffect=function(n){var r=e.useRef(n);r.current=n;e.useEffect(function(){return i.effect(function(){return r.current()})},s)}});//# sourceMappingURL=signals.min.js.map
